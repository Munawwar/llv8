// Copyright (c) 2004 by Arthur Langereis (arthur_ext at domain xfinitegames, tld com)


var result = 0;

// 1 op = 2 assigns, 16 compare/branches, 8 ANDs, (0-8) ADDs, 8 SHLs
// O(n)
function foo(b) {
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    // noinline ///////////////////////////////////////////////////////////////////////////////////////////
    var m = 1, c = 0;
    while(m < 0x100) {
        if(b & m) c++;
        m <<= 1;
    }
    return c;
}

function TimeFunc(func) {
    var x, y, t;
    var sum = 0;
    for(var x = 0; x < 10; x++) {
        sum = 0;
        for(var y = 0; y < 256; y++)  {
            res = func(y);
            print ("\t", y, res);
            sum += res; 
        }
        print (sum);
    }
    return sum;
}

result = TimeFunc(foo);

var expected = 35840000;
//if (result != expected)
//    throw "ERROR: bad result: expected " + expected + " but got " + result;
//else
    print(result)
